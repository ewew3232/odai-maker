{"ast":null,"code":"import { getDatabase, ref as dbRef, get, set } from \"firebase/database\";\nimport { getAuth, createUserWithEmailAndPassword, updateProfile } from \"firebase/auth\";\nexport default {\n  data() {\n    return {\n      username: '',\n      password: '',\n      message: ''\n    };\n  },\n  methods: {\n    handleRegister() {\n      const db = getDatabase();\n      get(dbRef(db, 'usernames/' + this.username)).then(snapshot => {\n        if (snapshot.exists()) {\n          this.message = 'その名前は登録済み';\n        } else {\n          const auth = getAuth();\n          createUserWithEmailAndPassword(auth, this.username + '@example.com', this.password).then(userCredential => {\n            updateProfile(userCredential.user, {\n              displayName: this.username\n            });\n            set(dbRef(db, 'usernames/' + this.username), userCredential.user.uid);\n            this.message = '登録完了。　' + 'ユーザー名:' + this.username + '　パスワード:' + this.password;\n          }).catch(error => {\n            this.message = 'エラー: ' + error.message;\n          });\n        }\n      });\n    },\n    handleLogin() {\n      // ログイン処理をここに書く\n    }\n  }\n};","map":{"version":3,"names":["getDatabase","ref","dbRef","get","set","getAuth","createUserWithEmailAndPassword","updateProfile","data","username","password","message","methods","handleRegister","db","then","snapshot","exists","auth","userCredential","user","displayName","uid","catch","error","handleLogin"],"sources":["C:\\Users\\ST\\Desktop\\vue3\\ODAI\\src\\components\\RegisterLogin.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>登録/ログイン</h2>\r\n    <form>\r\n      <div>\r\n        <label for=\"username\">Username:</label>\r\n        <input id=\"username\" v-model=\"username\" type=\"text\" required>\r\n      </div>\r\n      <div>\r\n        <label for=\"password\">Password:</label>\r\n        <input id=\"password\" v-model=\"password\" type=\"password\" required>\r\n      </div>\r\n      <button @click.prevent=\"handleRegister\">登録</button>\r\n      <button @click.prevent=\"handleLogin\">ログイン</button>\r\n    </form>\r\n    <div v-if=\"message\">{{ message }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getDatabase, ref as dbRef, get, set } from \"firebase/database\";\r\nimport { getAuth, createUserWithEmailAndPassword, updateProfile } from \"firebase/auth\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      message: '',\r\n    };\r\n  },\r\n  methods: {\r\n    handleRegister() {\r\n      const db = getDatabase();\r\n      get(dbRef(db, 'usernames/' + this.username)).then((snapshot) => {\r\n        if (snapshot.exists()) {\r\n          this.message = 'その名前は登録済み';\r\n        } else {\r\n          const auth = getAuth();\r\n          createUserWithEmailAndPassword(auth, this.username + '@example.com', this.password)\r\n            .then((userCredential) => {\r\n              updateProfile(userCredential.user, {\r\n                displayName: this.username\r\n              });\r\n              set(dbRef(db, 'usernames/' + this.username), userCredential.user.uid);\r\n              this.message = '登録完了。　'+'ユーザー名:'+ this.username + '　パスワード:' + this.password ;\r\n            })\r\n            .catch((error) => {\r\n              this.message = 'エラー: ' + error.message;\r\n            });\r\n        }\r\n      });\r\n    },\r\n    handleLogin() {\r\n      // ログイン処理をここに書く\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":"AAoBA,SAASA,WAAW,EAAEC,GAAE,IAAKC,KAAK,EAAEC,GAAG,EAAEC,GAAE,QAAS,mBAAmB;AACvE,SAASC,OAAO,EAAEC,8BAA8B,EAAEC,aAAY,QAAS,eAAe;AAEtF,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE;IACX,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,cAAcA,CAAA,EAAG;MACf,MAAMC,EAAC,GAAId,WAAW,CAAC,CAAC;MACxBG,GAAG,CAACD,KAAK,CAACY,EAAE,EAAE,YAAW,GAAI,IAAI,CAACL,QAAQ,CAAC,CAAC,CAACM,IAAI,CAAEC,QAAQ,IAAK;QAC9D,IAAIA,QAAQ,CAACC,MAAM,CAAC,CAAC,EAAE;UACrB,IAAI,CAACN,OAAM,GAAI,WAAW;QAC5B,OAAO;UACL,MAAMO,IAAG,GAAIb,OAAO,CAAC,CAAC;UACtBC,8BAA8B,CAACY,IAAI,EAAE,IAAI,CAACT,QAAO,GAAI,cAAc,EAAE,IAAI,CAACC,QAAQ,EAC/EK,IAAI,CAAEI,cAAc,IAAK;YACxBZ,aAAa,CAACY,cAAc,CAACC,IAAI,EAAE;cACjCC,WAAW,EAAE,IAAI,CAACZ;YACpB,CAAC,CAAC;YACFL,GAAG,CAACF,KAAK,CAACY,EAAE,EAAE,YAAW,GAAI,IAAI,CAACL,QAAQ,CAAC,EAAEU,cAAc,CAACC,IAAI,CAACE,GAAG,CAAC;YACrE,IAAI,CAACX,OAAM,GAAI,QAAQ,GAAC,QAAQ,GAAE,IAAI,CAACF,QAAO,GAAI,SAAQ,GAAI,IAAI,CAACC,QAAO;UAC5E,CAAC,EACAa,KAAK,CAAEC,KAAK,IAAK;YAChB,IAAI,CAACb,OAAM,GAAI,OAAM,GAAIa,KAAK,CAACb,OAAO;UACxC,CAAC,CAAC;QACN;MACF,CAAC,CAAC;IACJ,CAAC;IACDc,WAAWA,CAAA,EAAG;MACZ;IAAA;EAEJ;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}